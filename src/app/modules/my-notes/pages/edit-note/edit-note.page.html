<app-note-header
  [action]="data?.id ? actions.edit : actions.create"
  [isArchived]="!!data?.archived"
   [loading]="loading"
   [showToolbarImage]="!!imageSelected"
  (backButtonPressedEv)="onBack()" (clickNoteToolEv)="onFireHeaderButtonAction($event)">
</app-note-header>
<ion-content [fullscreen]="true" class="edit-note-page">
  <ion-title *ngIf="data?.themeTitle">{{data.themeTitle | uppercase}}</ion-title>
  <app-my-note-edit #myNoteEdit *ngIf="data" [data]="data"></app-my-note-edit>
  <app-images-list [images]="data?.images" (openImageEv)="onSelectImage($event)"></app-images-list>
  <app-modal #calendarModalCmp *ngIf="showCalendar" [template]="calendarTmpl" (closeEv)="showCalendar=false"></app-modal>
  <app-modal #colorSelectorModalCmp *ngIf="showColorSelector" [template]="colorSelectorTmpl" (closeEv)="showColorSelector=false"></app-modal>
</ion-content>

<app-full-screen-image *ngIf="data" [srcImage]="imageSelected"></app-full-screen-image>
<ng-template #calendarTmpl>
  <app-calendar (selectDateEv)="onSelectDate($event)"></app-calendar>
</ng-template>
<ng-template #colorSelectorTmpl>
  <app-color-selector *ngIf="showColorSelector" (selectThemeEv)="onSelectColor($event)"(closeEv)="showColorSelector=false">
</app-color-selector>
</ng-template>