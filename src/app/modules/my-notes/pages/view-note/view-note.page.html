<app-note-header  
  [action]="actions.view"
  [isArchived]="!!data?.archived"
  [loading]="loading"
  [showedModal]="showThemeSelector || showCalendar"
   [showToolbarImage]="!!imageSelected"
  (backButtonPressedEv)="onBack()" (clickNoteToolEv)="onFireHeaderButtonAction($event)">
</app-note-header>
<ion-content [fullscreen]="true" class="view-note-page">
  <ion-title *ngIf="data?.themeTitle">{{data.themeTitle | uppercase}}</ion-title>
  <app-my-note *ngIf="data" [data]="data" isFullPage="true" (clickEv)="onEdit()"></app-my-note>
  <ion-item *ngFor="let notif of notifications">
    <ion-label><ion-icon slot="start" name="notifications"></ion-icon> {{notif.date}}</ion-label>
    <ion-button (click)="onDeleteNotification(notif.id)" fill="clear">
      <ion-icon slot="icon-only" name="trash" color="dark"></ion-icon>
    </ion-button>
  </ion-item>
  <app-images-list [images]="data?.images" (openImageEv)="onSelectImage($event)"></app-images-list>
  <app-modal #calendarModalCmp *ngIf="showCalendar" [template]="calendarTmpl" (closeEv)="showCalendar=false"></app-modal>
  <app-modal #colorSelectorModalCmp *ngIf="showThemeSelector" [template]="themeSelectorTmpl" (closeEv)="showThemeSelector=false"></app-modal>
</ion-content>

<app-full-screen-image *ngIf="data" [srcImage]="imageSelected"></app-full-screen-image>
<ng-template #calendarTmpl>
 <app-date-picker (acceptEv)="onSelectDateTime($event)" (cancelEv)="onCancelCreateAlert()"></app-date-picker>
</ng-template>
<ng-template #themeSelectorTmpl>
  <app-theme-selector *ngIf="showThemeSelector"
  [currentThemeSelectedId]="data?.themeId"
  [canAdd]="true"
  (selectThemeEv)="onSelectTheme($event)">
</app-theme-selector>
</ng-template>
